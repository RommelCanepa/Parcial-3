<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicios de JavaScript</title>
</head>
<body>
    <h1>Ejercicios de JavaScript</h1>
  
    <h2>Filtro de Arreglos</h2>
    <button onclick="ejecutarFiltroDeArreglos()">Filtrar Mayores de Edad</button>
    <pre id="resultadoFiltro"></pre>

    <h2>Transformar y Filtrar Arreglos</h2>
    <button onclick="ejecutarTransformarYFiltrar()">Transformar y Filtrar</button>
    <pre id="resultadoTransformarYFiltrar"></pre>
    
    <h2>Promesas y Asincronía</h2>
    <button onclick="obtenerUsuarios()">Obtener Usuarios</button>
    <pre id="resultadoUsuarios"></pre>

  
    <h2>Manipulación Compleja del DOM</h2>
    <button onclick="agregarNuevoItem()">Agregar Nuevo Ítem</button>
    <ul id="lista">
        <!-- Aquí se agregará la lista -->
    </ul>

    <!-- Ejercicio 5 -->
    <h2>Algoritmos y Estructuras de Datos</h2>
    <button onclick="ejecutarOrdenarPorPropiedad()">Ordenar por Propiedad</button>
    <pre id="resultadoOrdenar"></pre>

    <script>
    
        function filtrarMayoresDeEdad(personas) {
            return personas.filter(persona => persona.edad >= 18);
        }

        function ejecutarFiltroDeArreglos() {
            const personas = [
                { nombre: 'Jesus ', edad: 17 },
                { nombre: 'Eduardo', edad: 35 },
                { nombre: 'Kairos', edad: 20 }
            ];
            const resultado = filtrarMayoresDeEdad(personas);
            document.getElementById('resultadoFiltro').innerText = JSON.stringify(resultado, null, 2);
        }

      
        function transformarYFiltrar(numeros) {
            return numeros.map(num => num ** 2).filter(num => num > 20);
        }

        function ejecutarTransformarYFiltrar() {
            const numeros = [2, 3, 4, 5, 6];
            const resultado = transformarYFiltrar(numeros);
            document.getElementById('resultadoTransformarYFiltrar').innerText = JSON.stringify(resultado, null, 2);
        }

 
        async function obtenerUsuarios() {
            try {
                const respuesta = await fetch('https://jsonplaceholder.typicode.com/users');
                const datos = await respuesta.json();
                document.getElementById('resultadoUsuarios').innerText = JSON.stringify(datos, null, 2);
            } catch (error) {
                document.getElementById('resultadoUsuarios').innerText = 'Error: ' + error.message;
            }
        }

 
        function agregarNuevoItem() {
            const lista = document.getElementById('lista');
            const nuevoItem = document.createElement('li');
            nuevoItem.textContent = 'Nuevo ítem';

            const botonEliminar = document.createElement('button');
            botonEliminar.textContent = 'Eliminar';
            botonEliminar.onclick = () => {
                lista.removeChild(nuevoItem);
            };

            nuevoItem.appendChild(botonEliminar);
            lista.appendChild(nuevoItem);
        }

        
        function ordenarPorPropiedad(arreglo, propiedad) {
            return arreglo.slice().sort((a, b) => (a[propiedad] > b[propiedad]) ? 1 : -1);
        }

        function ejecutarOrdenarPorPropiedad() {
            const personas = [
                { nombre: 'Jesus', edad: 15 },
                { nombre: 'Eduardo', edad: 22 },
                { nombre: 'Kairos', edad: 30 }
            ];
            const resultado = ordenarPorPropiedad(personas, 'edad');
            document.getElementById('resultadoOrdenar').innerText = JSON.stringify(resultado, null, 2);
        }
    </script>
    <style>
        
    </style>
    
</body>
</html>